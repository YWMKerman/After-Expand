@Kopernicus:FOR[AfterSolarSystemExpand]
{
	useOnDemand = True
	Body
	{
		name = Trappist-1e
		finalizeOrbit = False
        randomMainMenuBody = False
        identifier = Trappist-1/Trappist-1e
		cacheFile = AfterSolarSystemExpand/System/08_Trappist-1/Cache/Trappist-1e.bin
		Template
		{
			name = Laythe
			removePQSMods = LandControl, VertexHeightNoise, VertexSimplexHeightMap, VertexHeightNoiseVertHeight
		}
		Properties
		{
			displayName = #ASSEX_Trappist-1E_name//Trappist-1e
			description = #ASSEX_Trappist-1E_desc//Trappist-1 e其环绕母恒星的轨道恰好在其母星宜居带内边缘处。在遥远的观察着看来它似乎非常适合宜居...
 			radius = 5861320
			//mass = 4.132624e+24
            gravParameter = 275814631859200
			tidallyLocked = True
			albedo = 0.2015
			isHomeWorld = False
			initialRotation = 68
			timewarpAltitudeLimits = 125000 125000 125000 125000 125000 125000 125000 125000
			biomeMap = AfterSolarSystemExpand/Textures/PluginData/Trappist-1e_Biomes.dds
			Biomes
			{
				Biome
				{
					name = 沼泽
					displayName = #ASSEX_Trappist-1E_Biome1
					value = 1.3
					color = RGB(100,100,255)
				}
				Biome
				{
					name = Cliff
					displayName = #ASSEX_Trappist-1E_Biome2
					value = 1.0
					color = RGB(100,100,0)
				}
				Biome
				{
					name = Highlands
					displayName = #ASSEX_Trappist-1E_Biome3
					value = 1.3
					color = RGB(200,100,170)
				}
				Biome
				{
					name = 温暖的荒漠
					displayName = #ASSEX_Trappist-1E_Biome4
					value = 1.0
					color = RGB(200,200,200)
				}
				Biome
				{
					name = 寒冷的荒漠
					displayName = #ASSEX_Trappist-1E_Biome4
					value = 1.0
					color = RGB(0,0,70)
				}
			}
			ScienceValues
			{
				splashedDataValue = 46.42
				landedDataValue = 46.4
				flyingLowDataValue = 45.9
				flyingHighDataValue = 45.7
				inSpaceLowDataValue = 45.2
				inSpaceHighDataValue = 44.8
				flyingAltitudeThreshold = 20000
				spaceAltitudeThreshold = 3000000
			}
		}
		Orbit
		{
			referenceBody =            Trappist-1
			semiMajorAxis =            4.375800000E+09
            eccentricity =             5.100000000E-03
			inclination =              8.979300000E+00  // 没办法用正常的89度倾角，行星没有自转轴
            meanAnomalyAtEpochD =      4.524553152E+00
            longitudeOfAscendingNode = 5.104253716E+01
            argumentOfPeriapsis =      1.083700000E+02
			color =  				   RGB(119,125,151)
			cameraSmaRatioBounds =     0.03 500	
			iconTexture = AfterSolarSystemExpand/Textures/PluginData/TelluricPlanet_icon.dds
		}
        ScaledVersion
        {
			type = Atmospheric
			fadeStart = 88000
			fadeEnd = 100000
			OnDemand
			{
                texture = AfterSolarSystemExpand/Textures/PluginData/Trappist-1e_Color.dds
                normals = AfterSolarSystemExpand/Textures/PluginData/Trappist-1e_NRM.dds
			}
            Material
            {
                color = 1,1,1,1

                specColor = 0.1,0.1,0.1,1
                shininess = 0.54

				rimPower = 0.85	
				rimBlend = 0.12
				rimColorRamp = AfterSolarSystemExpand/Textures/PluginData/Trappist-1eColorRamp.dds
            }
        }
		Atmosphere				
		{				
			enabled = True			
			oxygen = False			
			altitude =	125000			
			adiabaticIndex = 1.40			
			atmosphereMolarMass = 0.0284	

				// N2 97.36%
				// CO2 2.52%
				// CH4 0.12%

			temperatureSeaLevel = 298		
			staticPressureASL =	1.01579E+02	
			pressureCurve				
			{				
				key =	0		1.01579E+02	0.00000E+00	-2.94685E-02
				key =	2003	5.71223E+01	-1.71041E-02	-1.71041E-02
				key =	4044	3.21222E+01	-9.92204E-03	-9.92204E-03
				key =	6125	1.80637E+01	-5.75219E-03	-5.75219E-03
				key =	8246	1.01579E+01	-3.33251E-03	-3.33251E-03
				key =	10411	5.71223E+00	-1.92925E-03	-1.92925E-03
				key =	12620	3.21222E+00	-1.11599E-03	-1.11599E-03
				key =	14877	1.80637E+00	-6.44989E-04	-6.44989E-04
				key =	17183	1.01579E+00	-3.72429E-04	-3.72429E-04
				key =	19543	5.71223E-01	-2.14835E-04	-2.14835E-04
				key =	21959	3.21222E-01	-1.23796E-04	-1.23796E-04
				key =	24437	1.80637E-01	-7.12572E-05	-7.12572E-05
				key =	26979	1.01579E-01	-4.09675E-05	-4.09675E-05
				key =	29592	5.71223E-02	-2.35244E-05	-2.35244E-05
				key =	32281	3.21222E-02	-1.34909E-05	-1.34909E-05
				key =	35053	1.80637E-02	-7.72656E-06	-7.72656E-06
				key =	37916	1.01579E-02	-4.41913E-06	-4.41913E-06
				key =	40874	5.71223E-03	-2.52807E-06	-2.52807E-06
				key =	43932	3.21222E-03	-1.44551E-06	-1.44551E-06
				key =	47098	1.80637E-03	-8.26004E-07	-8.26004E-07
				key =	50379	1.01579E-03	-4.71653E-07	-4.71653E-07
				key =	53784	5.71223E-04	-2.69084E-07	-2.69084E-07
				key =	57322	3.21222E-04	-1.53365E-07	-1.53365E-07
				key =	61005	1.80637E-04	-8.73137E-08	-8.73137E-08
				key =	64848	1.01579E-04	-4.96477E-08	-4.96477E-08
				key =	68864	5.71223E-05	-2.81916E-08	-2.81916E-08
				key =	73074	3.21222E-05	-1.59841E-08	-1.59841E-08
				key =	77497	1.80637E-05	-9.04801E-09	-9.04801E-09
				key =	82158	1.01579E-05	-5.11280E-09	-5.11280E-09
				key =	87086	5.71223E-06	-2.88374E-09	-2.88374E-09
				key =	92316	3.21222E-06	-1.62331E-09	-1.62331E-09
				key =	97890	1.80637E-06	-9.10799E-10	-9.10799E-10
				key =	103867	1.01579E-06	-5.08786E-10	-5.08786E-10
			}
			temperatureCurve				
			{				
				key =	0	277	0.00000E+00	-3.49476E-03
				key =	2003	270	-3.49476E-03	-2.93974E-03
				key =	4044	264	-2.93974E-03	-2.88323E-03
				key =	6125	258	-2.88323E-03	-2.35738E-03
				key =	8246	253	-2.35738E-03	-2.30947E-03
				key =	10411	248	-2.30947E-03	-2.26347E-03
				key =	12620	243	-2.26347E-03	-2.21533E-03
				key =	14877	238	-2.21533E-03	-1.73461E-03
				key =	17183	234	-1.73461E-03	-1.69492E-03
				key =	19543	230	-1.69492E-03	-1.65563E-03
				key =	21959	226	-1.65563E-03	-1.21065E-03
				key =	24437	223	-1.21065E-03	-1.57356E-03
				key =	26979	219	-1.57356E-03	-1.53081E-03
				key =	29592	215	-1.53081E-03	-1.11566E-03
				key =	32281	212	-1.11566E-03	-1.44300E-03
				key =	35053	208	-1.44300E-03	-1.39714E-03
				key =	37916	204	-1.39714E-03	-1.01420E-03
				key =	40874	201	-1.01420E-03	-1.30804E-03
				key =	43932	197	-1.30804E-03	-9.47568E-04
				key =	47098	194	-9.47568E-04	-1.21914E-03
				key =	50379	190	-1.21914E-03	-8.81057E-04
				key =	53784	187	-8.81057E-04	-1.13058E-03
				key =	57322	183	-1.13058E-03	-8.14553E-04
				key =	61005	180	-8.14553E-04	-7.80640E-04
				key =	64848	177	-7.80640E-04	-7.47012E-04
				key =	68864	174	-7.47012E-04	-7.12589E-04
				key =	73074	171	-7.12589E-04	-4.52182E-04
				key =	77497	169	-4.52182E-04	-4.29092E-04
				key =	82158	167	-4.29092E-04	-2.02922E-04
				key =	87086	166	-2.02922E-04	-1.91205E-04
				key =	92316	165	-1.91205E-04	0.00000E+00
				key =	97890	165	0.00000E+00	0.00000E+00
				key =	103867	166	1.67308E-04	0.00000E+00
				key =	110322	168	3.09837E-04	1.51375E-03
				key =	117342	170	2.84900E-04	1.46629E-03
				key =	125000	173	3.91747E-04	1.42399E-03			
			}				
			temperatureSunMultCurve				
			{				
				key =	0	1.000	0.00000E+00	-5.99101E-05
				key =	2003	0.880	-5.99101E-05	-5.87947E-05
				key =	4044	0.760	-5.87947E-05	-5.76646E-05
				key =	6125	0.640	-5.76646E-05	-5.65771E-05
				key =	8246	0.520	-5.65771E-05	-5.40416E-05
				key =	10411	0.403	-5.40416E-05	-5.11544E-05
				key =	12620	0.290	-5.11544E-05	-4.82942E-05
				key =	14877	0.181	-4.82942E-05	-4.46661E-05
				key =	17183	0.078	-4.46661E-05	-4.02542E-05
				key =	19543	-0.017	-4.02542E-05	-3.55960E-05
				key =	21959	-0.103	-3.55960E-05	-2.94592E-05
				key =	24437	-0.176	-2.94592E-05	-2.32101E-05
				key =	26979	-0.235	-2.32101E-05	-1.60735E-05
				key =	29592	-0.277	-1.60735E-05	-7.80959E-06
				key =	32281	-0.298	-7.80959E-06	-3.60750E-07
				key =	35053	-0.299	-3.60750E-07	2.79427E-06
				key =	37916	-0.291	2.79427E-06	4.39486E-06
				key =	40874	-0.278	4.39486E-06	6.86723E-06
				key =	43932	-0.257	6.86723E-06	8.52811E-06
				key =	47098	-0.230	8.52811E-06	1.00579E-05
				key =	50379	-0.197	1.00579E-05	1.14537E-05
				key =	53784	-0.158	1.14537E-05	1.27191E-05
				key =	57322	-0.113	1.27191E-05	1.35759E-05
				key =	61005	-0.063	1.35759E-05	1.40515E-05
				key =	64848	-0.009	1.40515E-05	1.41932E-05
				key =	68864	0.048	1.41932E-05	1.40143E-05
				key =	73074	0.107	1.40143E-05	1.33394E-05
				key =	77497	0.166	1.33394E-05	1.20146E-05
				key =	82158	0.222	1.20146E-05	9.94318E-06
				key =	87086	0.271	9.94318E-06	7.45698E-06
				key =	92316	0.310	7.45698E-06	3.94690E-06
				key =	97890	0.332	3.94690E-06	3.34616E-07
				key =	103867	0.334	3.34616E-07	0.00000E+00
				key =	110322	0.334	0.00000E+00	0.00000E+00
				key =	117342	0.334	0.00000E+00	0.00000E+00
				key =	125000	0.334	0.00000E+00	0.00000E+00			
			}				
			temperatureLatitudeBiasCurve				
			{				
				key =	0	9.12	0	0
				key =	38	0	-0.462	-0.462
				key =	90	-33.88	-0.7505	0
			}				
			temperatureLatitudeSunMultCurve				
			{				
				key =	0	48	0	0
				key =	38	40.79	-0.3653	-0.3653
				key =	90	14	-0.5934	0
			}				
			temperatureAxialSunBiasCurve				
			{				
				key =	0	-0.16	0	-0.0009
				key =	17.63	-0.17	0	0
				key =	107.63	0	0.0029	0.0029
				key =	197.63	0.17	0	0
				key =	287.63	0	-0.0029	-0.0029
				key =	360	-0.16	-0.0009	0
			}				
			temperatureAxialSunMultCurve				
			{				
				key =	0	0	0	0
				key =	38	0.5	0.02	0.02
				key =	90	1	0	0
			}				
			temperatureEccentricityBiasCurve				
			{				
				key =	0	0	0	0
				key =	1	0	0	0
			}				
			AtmosphereFromGround // The atmosphere effect that is seen on the horizon
			{
				DEBUG_alwaysUpdateAll = False // Whether all parameters should get recalculated and reapplied every frame.
				doScale = True // Whether the atmosphere mesh should be scaled automatically.
				innerRadius = 4153221 // The lower bound of the atmosphere effect.
				invWaveLength = 1.33239186,1.40056026,1.35464334,0.5
				outerRadius = 4259714 // The upper bound of the atmosphere effect.
				samples = 4
				transformScale = 1.02499998,1.02499998,1.02499998 // The scale of the atmosphere mesh in all three directions. Automatically set if doScale is enabled.
				waveLength = 0.930769205,0.919230759,0.926923215,0
				outerRadiusMult = 1.035 // A multiplier that automatically sets outerRadius based on the planets radius.
				innerRadiusMult = 0.975 // A multiplier that automatically sets innerRadius based on the planets radius.
			}							
		}
		PQS
		{
			fadeStart = 89375
			fadeEnd = 109375
			deactivateAltitude = 125000
            materialType = AtmosphericTriplanarZoomRotation
			Material
			{
				factor = 9
				factorBlendWidth = 0.1
				factorRotation = 180
				saturation = 0.97
				contrast = 1.15
				tintColor = 1,1,1,0
				specularColor = 0,0,0,1
				albedoBrightness = 1

				steepPower = 2.7
				steepTexStart = 50000
				steepTexEnd = 1000000
				steepTex = BUILTIN/laythSteep_diff
				steepTexScale = 1,1
				steepTexOffset = 0,0
				steepBumpMap = BUILTIN/laytheSteep_nrm
				steepBumpMapScale = 1,1
				steepBumpMapOffset = 0,0
				steepNearTiling = 15000
				steepTiling = 150

				lowTex = BUILTIN/laytheLow_diff
				lowTexScale = 1,1
				lowTexOffset = 0,0
				lowTiling = 20000

				midTex = BUILTIN/laytheSand_diffuse
				midTexScale = 1,1
				midTexOffset = 0,0
				midTiling = 40000
				midBumpMap = BUILTIN/laytheSand_nrm
				midBumpMapScale = 1,1
				midBumpMapOffset = 0,0
				midBumpTiling = 40000

				highTex = BUILTIN/laytheSnow_diff
				highTexScale = 1,1
				highTexOffset = 0,0
				highTiling = 1000

				lowStart = 0
				lowEnd = 0.1
				highStart = 0.6
				highEnd = 1

				globalDensity = 0
				planetOpacity = 1
				oceanFogDistance = 1000
			}
			FallbackMaterial
			{
				saturation = 1
				contrast = 1.55
				tintColor = 1,1,1,0
				texTiling = 1000
				texPower = 0.5
				multiPower = 0.3
				groundTexStart = 20000
				groundTexEnd = 60000
				multiFactor = 0.5
				mainTex = BUILTIN/SandyGround
				mainTexScale = 1,1
				mainTexOffset = 0,0
				planetOpacity = 1
			}
			Mods
			{
				VertexColorMap
				{
					map = AfterSolarSystemExpand/Textures/PluginData/Trappist-1e_Color.dds
					order = 9999993
					enabled = true
				}                                                     
				VertexHeightMap
				{
					map = AfterSolarSystemExpand/Textures/PluginData/Trappist-1e_Height.dds
					offset = -3714.96
					deformity = 17083.07
					scaleDeformityByRadius = False
					order = 10
					enabled = True
					name = _HeightNoise03
				}
			}
		}
	}
}