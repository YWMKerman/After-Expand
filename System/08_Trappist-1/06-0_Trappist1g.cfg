@Kopernicus:FOR[AfterSolarSystemExpand]
{
	useOnDemand = True
	Body
	{
		name = Trappist-1g
		finalizeOrbit = False
        randomMainMenuBody = False
        identifier = Trappist-1/Trappist-1g
		cacheFile = AfterSolarSystemExpand/System/08_Trappist-1/Cache/Trappist-1g.bin
		Template
		{
			name = Laythe
			removeOcean = True
			removePQSMods = LandControl, VertexHeightNoise, VertexSimplexHeightMap, VertexHeightNoiseVertHeight
		}
		Properties
		{
			displayName = #ASSEX_Trappist-1G_name//Trappist-1g
			description = #ASSEX_Trappist-1G_desc//Trappist-1g是一颗处于其母恒星宜居带外边缘的行星，由于其温度过低，在这里液态水只能以固体形式存在，显然这里并不是一个潜在宜居的世界
 			radius = 7192859
			//mass = 7.889012E+24
            gravParameter = 526518972089600
			tidallyLocked = True
			albedo = 0.37
			isHomeWorld = False
			initialRotation = 68
			timewarpAltitudeLimits = 135000 135000 135000 135000 135000 135000 135000 135000
			biomeMap = AfterSolarSystemExpand/Textures/PluginData/Trappist-1g_Biomes.dds
			Biomes
			{
				Biome
				{
					name = 沟壑
					displayName = #ASSEX_Trappist-1G_Biome1
					value = 1.0
					color = RGB(100,100,100)
				}
				Biome
				{
					name = 高山
					displayName = #ASSEX_Trappist-1G_Biome2
					value = 1.0
					color = RGB(100,100,200)
				}
				Biome
				{
					name = 丘陵
					displayName = #ASSEX_Trappist-1G_Biome3
					value = 1.0
					color = RGB(200,180,250)
				}
			}
			ScienceValues
			{
				landedDataValue = 48.7
				flyingLowDataValue = 48.1
				flyingHighDataValue = 47.8
				inSpaceLowDataValue = 47.3
				inSpaceHighDataValue = 46.9
				flyingAltitudeThreshold = 20000
				spaceAltitudeThreshold = 2900000
			}
		}
		Orbit
		{
			referenceBody =            Trappist-1
			semiMajorAxis =            7.005768000E+09
            eccentricity =             2.080000000E-03
			inclination =              8.974200000E+00  // 没办法用正常的89度倾角，行星没有自转轴
            meanAnomalyAtEpochD =      1.654225315E+02
            longitudeOfAscendingNode = 5.154526731E+01
            argumentOfPeriapsis =      1.913400000E+02
			color =  				   RGB(151,150,151)
			cameraSmaRatioBounds =     0.03 500	
			iconTexture = AfterSolarSystemExpand/Textures/RockPlanet_icon.dds
		}
        ScaledVersion
        {
			type = Atmospheric
			fadeStart = 100000
			fadeEnd = 102000
			OnDemand
			{
				texture = AfterSolarSystemExpand/Textures/PluginData/Trappist-1g_Color.dds
				normals = AfterSolarSystemExpand/Textures/PluginData/Trappist-1g_NRM.dds
			}
            Material
            {
                color = 1,1,1,1

                specColor = 0.1,0.1,0.1,1
                shininess = 0.85

				rimPower = 0.72
				rimBlend = 0.15
				rimColorRamp = AfterSolarSystemExpand/Textures/PluginData/Trappist-1fColorRamp.dds
            }
		}
		Atmosphere				
		{				
			enabled =	True			
			oxygen =	False			
			altitude =	135000			
			adiabaticIndex =	1.39			
			atmosphereMolarMass =	0.03096		

				// N2 78.80%
				// CO2 19.60%
				// CH4 1.60%

			temperatureSeaLevel =	208			
			staticPressureASL =	1.90491			
			temperatureCurve				
			{				
				key =	0	180	0.00000E+00	3.11818E-04
				key =	6414	182	3.11818E-04	1.62127E-04
				key =	12582	183	1.62127E-04	0.00000E+00
				key =	18522	183	0.00000E+00	-3.49101E-04
				key =	24251	181	-3.49101E-04	-5.42103E-04
				key =	29785	178	-5.42103E-04	-1.12087E-03
				key =	35138	172	-1.12087E-03	-9.63763E-04
				key =	40326	167	-9.63763E-04	-1.19142E-03
				key =	45362	161	-1.19142E-03	-1.02103E-03
				key =	50259	156	-1.02103E-03	-8.34550E-04
				key =	55052	152	-8.34550E-04	-8.47278E-04
				key =	59773	148	-8.47278E-04	-8.59107E-04
				key =	64429	144	-8.59107E-04	-6.53168E-04
				key =	69022	141	-6.53168E-04	-8.81640E-04
				key =	73559	137	-8.81640E-04	-6.69195E-04
				key =	78042	134	-6.69195E-04	-6.76437E-04
				key =	82477	131	-6.76437E-04	-4.55270E-04
				key =	86870	129	-4.55270E-04	-4.59031E-04
				key =	91227	127	-4.59031E-04	-4.62214E-04
				key =	95554	125	-4.62214E-04	-2.32342E-04
				key =	99858	124	-2.32342E-04	0.00000E+00
				key =	104145	124	0.00000E+00	-2.33645E-04
				key =	108425	123	-2.33645E-04	0.00000E+00
				key =	112704	123	0.00000E+00	0.00000E+00
				key =	116994	123	0.00000E+00	2.31535E-04
				key =	121313	124	2.31535E-04	4.57980E-04
				key =	125680	126	4.57980E-04	4.50857E-04
				key =	130116	128	4.50857E-04	4.09500E-04
				key =	135000	130	4.09500E-04	0.00000E+00			
			}				
			temperatureSunMultCurve				
			{				
				key =	0	1.000	0.00000E+00	-5.87777E-05
				key =	6414	0.623	-5.87777E-05	-5.36641E-05
				key =	12582	0.292	-5.36641E-05	-4.54545E-05
				key =	18522	0.022	-4.54545E-05	-3.36883E-05
				key =	24251	-0.171	-3.36883E-05	-1.95157E-05
				key =	29785	-0.279	-1.95157E-05	-3.73622E-06
				key =	35138	-0.299	-3.73622E-06	2.69854E-06
				key =	40326	-0.285	2.69854E-06	5.36140E-06
				key =	45362	-0.258	5.36140E-06	7.55565E-06
				key =	50259	-0.221	7.55565E-06	9.18005E-06
				key =	55052	-0.177	9.18005E-06	1.01673E-05
				key =	59773	-0.129	1.01673E-05	1.09536E-05
				key =	64429	-0.078	1.09536E-05	1.11039E-05
				key =	69022	-0.027	1.11039E-05	1.08001E-05
				key =	73559	0.022	1.08001E-05	1.02610E-05
				key =	78042	0.068	1.02610E-05	9.24464E-06
				key =	82477	0.109	9.24464E-06	7.96722E-06
				key =	86870	0.144	7.96722E-06	5.96741E-06
				key =	91227	0.170	5.96741E-06	3.92882E-06
				key =	95554	0.187	3.92882E-06	1.39405E-06
				key =	99858	0.193	1.39405E-06	0.00000E+00
				key =	104145	0.193	0.00000E+00	0.00000E+00
				key =	108425	0.193	0.00000E+00	0.00000E+00
				key =	112704	0.193	0.00000E+00	0.00000E+00
				key =	116994	0.193	0.00000E+00	0.00000E+00
				key =	121313	0.193	0.00000E+00	0.00000E+00
				key =	125680	0.193	0.00000E+00	0.00000E+00
				key =	130116	0.193	0.00000E+00	0.00000E+00
				key =	135000	0.193	0.00000E+00	0.00000E+00			
			}				
			temperatureLatitudeBiasCurve				
			{				
				key =	0	12.51	0	0
				key =	38	0	-0.634	-0.634
				key =	90	-46.49	-1.0297	0
			}				
			temperatureLatitudeSunMultCurve				
			{				
				key =	0	65	0	0
				key =	38	55.25	-0.4943	-0.4943
				key =	90	19	-0.8029	0
			}				
			temperatureAxialSunBiasCurve				
			{				
				key =	0	-0.22	0	0.0084
				key =	24.66	0	0.0092	0.0092
				key =	114.66	0.53	0	0
				key =	204.66	0	-0.0092	-0.0092
				key =	294.66	-0.53	0	0
				key =	360	-0.22	0.0084	0
			}				
			temperatureAxialSunMultCurve				
			{				
				key =	0	0	0	0
				key =	38	0.5	0.02	0.02
				key =	90	1	0	0
			}				
			temperatureEccentricityBiasCurve				
			{				
				key =	0	0	0	0
				key =	1	0	0	0
			}				
			pressureCurve				
			{				
				key =	0	1.90491E+00	0.00000E+00	-1.67629E-04
				key =	6414	1.07121E+00	-9.84041E-05	-9.84041E-05
				key =	12582	6.02385E-01	-5.76845E-05	-5.76845E-05
				key =	18522	3.38746E-01	-3.37634E-05	-3.37634E-05
				key =	24251	1.90491E-01	-1.97304E-05	-1.97304E-05
				key =	29785	1.07121E-01	-1.15106E-05	-1.15106E-05
				key =	35138	6.02385E-02	-6.70355E-06	-6.70355E-06
				key =	40326	3.38746E-02	-3.89706E-06	-3.89706E-06
				key =	45362	1.90491E-02	-2.26144E-06	-2.26144E-06
				key =	50259	1.07121E-02	-1.30992E-06	-1.30992E-06
				key =	55052	6.02385E-03	-7.50222E-07	-7.50222E-07
				key =	59773	3.38746E-03	-4.28987E-07	-4.28987E-07
				key =	64429	1.90491E-03	-2.45150E-07	-2.45150E-07
				key =	69022	1.07121E-03	-1.39992E-07	-1.39992E-07
				key =	73559	6.02385E-04	-7.98743E-08	-7.98743E-08
				key =	78042	3.38746E-04	-4.55289E-08	-4.55289E-08
				key =	82477	1.90491E-04	-2.59233E-08	-2.59233E-08
				key =	86870	1.07121E-04	-1.47421E-08	-1.47421E-08
				key =	91227	6.02385E-05	-8.37214E-09	-8.37214E-09
				key =	95554	3.38746E-05	-4.74754E-09	-4.74754E-09
				key =	99858	1.90491E-05	-2.68782E-09	-2.68782E-09
				key =	104145	1.07121E-05	-1.51907E-09	-1.51907E-09
				key =	108425	6.02385E-06	-8.56942E-10	-8.56942E-10
				key =	112704	3.38746E-06	-4.82477E-10	-4.82477E-10
				key =	116994	1.90491E-06	-2.70774E-10	-2.70774E-10
				key =	121313	1.07121E-06	-1.51239E-10	-1.51239E-10
				key =	125680	6.02385E-07	-8.40949E-11	-8.40949E-11
				key =	130116	3.38746E-07	-4.65657E-11	-4.65657E-11
				key =	135000	0.00000E+00	0.00000E+00	0.00000E+00			
			}
			AtmosphereFromGround // The atmosphere effect that is seen on the horizon
			{
				DEBUG_alwaysUpdateAll = False // Whether all parameters should get recalculated and reapplied every frame.
				doScale = True // Whether the atmosphere mesh should be scaled automatically.
				innerRadius = 7188364 // The lower bound of the atmosphere effect.
				invWaveLength = 1.40056026,1.8151021,2.06088567,0.5
				outerRadius = 7372681 // The upper bound of the atmosphere effect.
				samples = 4
				transformScale = 1.02499998,1.02499998,1.02499998 // The scale of the atmosphere mesh in all three directions. Automatically set if doScale is enabled.
				waveLength = 0.919230759,0.861538589,0.834615648,0
				outerRadiusMult = 1.025 // A multiplier that automatically sets outerRadius based on the planets radius.
				innerRadiusMult = 0.975 // A multiplier that automatically sets innerRadius based on the planets radius.
			}													
		}
		PQS
		{
			deactivateAltitude = 135000
			fadeStart = 102000
			fadeEnd = 122500
            materialType = AtmosphericTriplanarZoomRotation
			Material
			{
				factor = 9
				factorBlendWidth = 0.1
				factorRotation = 180
				saturation = 0.97
				contrast = 1.15
				tintColor = 1,1,1,0
				specularColor = 0,0,0,1
				albedoBrightness = 1

				steepPower = 2.7
				steepTexStart = 50000
				steepTexEnd = 1000000
				steepTex = AfterSolarSystemExpand/Terrain/PluginData/Stone03.dds
				steepTexScale = 1,1
				steepTexOffset = 0,0
				steepBumpMap = AfterSolarSystemExpand/Terrain/PluginData/Stone03_NRM.dds
				steepBumpMapScale = 1,1
				steepBumpMapOffset = 0,0
				steepNearTiling = 15000
				steepTiling = 150

				lowTex = AfterSolarSystemExpand/Terrain/PluginData/Stone03.dds
				lowTexScale = 1,1
				lowTexOffset = 0,0
				lowTiling = 20000

				midTex = AfterSolarSystemExpand/Terrain/PluginData/Stone03.dds
				midTexScale = 1,1
				midTexOffset = 0,0
				midTiling = 40000
				midBumpMap = AfterSolarSystemExpand/Terrain/PluginData/Stone03_NRM.dds
				midBumpMapScale = 1,1
				midBumpMapOffset = 0,0
				midBumpTiling = 40000

				highTex = AfterSolarSystemExpand/Terrain/PluginData/Stone03.dds
				highTexScale = 1,1
				highTexOffset = 0,0
				highTiling = 1000

				lowStart = 0
				lowEnd = 0.1
				highStart = 0.6
				highEnd = 1

				globalDensity = 0
				planetOpacity = 1
				oceanFogDistance = 1000
			}
			FallbackMaterial
			{
				saturation = 1
				contrast = 1.55
				tintColor = 1,1,1,0
				texTiling = 1000
				texPower = 0.5
				multiPower = 0.3
				groundTexStart = 20000
				groundTexEnd = 60000
				multiFactor = 0.5
				mainTex = BUILTIN/SandyGround
				mainTexScale = 1,1
				mainTexOffset = 0,0
				planetOpacity = 1
			}
			Mods
			{
				VertexColorMap
				{
					map = AfterSolarSystemExpand/Textures/PluginData/Trappist-1g_Color.dds
					order = 10
					enabled = true
				}
				VertexHeightMap  
				{
					map = AfterSolarSystemExpand/Textures/PluginData/Trappist-1g_Height.dds
					offset = 0
					deformity = 15609.91
					scaleDeformityByRadius = false
					order = 10
					enabled = true
				}	
			}
		}
	}
}