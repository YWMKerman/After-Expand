@Kopernicus:FOR[AfterSolarSystemExpand]
{
	useOnDemand = True
	Body
	{
		name = Trappist-1e
		finalizeOrbit = False
        randomMainMenuBody = False
        identifier = Trappist-1/Trappist-1e
		cacheFile = AfterSolarSystemExpand/System/08_Trappist-1/Cache/Trappist-1e.bin
		Template
		{
			name = Laythe
			removePQSMods = LandControl, VertexHeightNoise, VertexSimplexHeightMap, VertexHeightNoiseVertHeight
		}
		Properties
		{
			displayName = #ASSEX_Trappist-1E_name//Trappist-1e
			description = #ASSEX_Trappist-1E_desc//Trappist-1 e其环绕母恒星的轨道恰好在其母星宜居带内边缘处。在遥远的观察着看来它似乎非常适合宜居...
 			radius = 5861320
			//mass = 4.132624e+24
            gravParameter = 275814631859200
			tidallyLocked = True
			albedo = 0.2015
			isHomeWorld = False
			initialRotation = 68
			timewarpAltitudeLimits = 125000 125000 125000 125000 125000 125000 125000 125000
			biomeMap = AfterSolarSystemExpand/Textures/PluginData/Trappist-1e_Biomes.dds
			Biomes
			{
				Biome
				{
					name = 沼泽
					displayName = #ASSEX_Trappist-1E_Biome1
					value = 1.3
					color = RGB(100,100,255)
				}
				Biome
				{
					name = Cliff
					displayName = #ASSEX_Trappist-1E_Biome2
					value = 1.0
					color = RGB(100,100,0)
				}
				Biome
				{
					name = Highlands
					displayName = #ASSEX_Trappist-1E_Biome3
					value = 1.3
					color = RGB(200,100,170)
				}
				Biome
				{
					name = 温暖的荒漠
					displayName = #ASSEX_Trappist-1E_Biome4
					value = 1.0
					color = RGB(200,200,200)
				}
				Biome
				{
					name = 寒冷的荒漠
					displayName = #ASSEX_Trappist-1E_Biome4
					value = 1.0
					color = RGB(0,0,70)
				}
			}
			ScienceValues
			{
				splashedDataValue = 46.42
				landedDataValue = 46.4
				flyingLowDataValue = 45.9
				flyingHighDataValue = 45.7
				inSpaceLowDataValue = 45.2
				inSpaceHighDataValue = 44.8
				flyingAltitudeThreshold = 20000
				spaceAltitudeThreshold = 3000000
			}
		}
		Orbit
		{
			referenceBody =            Trappist-1
			semiMajorAxis =            4.375800000E+09
            eccentricity =             5.100000000E-03
			inclination =              8.979300000E+00  // 没办法用正常的89度倾角，行星没有自转轴
            meanAnomalyAtEpochD =      4.524553152E+01
            longitudeOfAscendingNode = 5.104253716E+01
            argumentOfPeriapsis =      1.083700000E+02
			color =  				   RGB(119,125,151)
			iconTexture = AfterSolarSystemExpand/Textures/PluginData/TelluricPlanet_icon.dds
		}
        ScaledVersion
        {
			type = Atmospheric
			fadeStart = 88000
			fadeEnd = 100000
			OnDemand
			{
                texture = AfterSolarSystemExpand/Textures/PluginData/Trappist-1e_Color.dds
                normals = AfterSolarSystemExpand/Textures/PluginData/Trappist-1e_NRM.dds
			}
            Material
            {
                color = 1,1,1,1

                specColor = 0.1,0.1,0.1,1
                shininess = 0.54

				rimPower = 0.52	
				rimBlend = 0.35
				rimColorRamp = AfterSolarSystemExpand/Textures/PluginData/Trappist-1eColorRamp.dds
            }
        }
		Atmosphere				
		{				
			enabled = True			
			oxygen = False			
			altitude =	125000			
			adiabaticIndex = 1.40			
			atmosphereMolarMass = 0.0284	

				// N2 97.36%
				// CO2 2.52%
				// CH4 0.12%

			temperatureSeaLevel = 287.5			
			staticPressureASL =	25.44625	// 即使此刻的E星有浓厚大气，那未来它也会消失绝大部分
			temperatureCurve				
			{				
				key =	0		261	0.00000E+00	-1.86081E-04
				key =	5374	260	-1.86081E-04	-1.92197E-04
				key =	10577	259	-1.92197E-04	-3.96747E-04
				key =	15618	257	-3.96747E-04	-6.13748E-04
				key =	20506	254	-6.13748E-04	-6.32511E-04
				key =	25249	251	-6.32511E-04	-1.08507E-03
				key =	29857	246	-1.08507E-03	-1.33899E-03
				key =	34338	240	-1.33899E-03	-1.60514E-03
				key =	38699	233	-1.60514E-03	-1.41176E-03
				key =	42949	227	-1.41176E-03	-1.44718E-03
				key =	47095	221	-1.44718E-03	-1.48148E-03
				key =	51145	215	-1.48148E-03	-1.51439E-03
				key =	55107	209	-1.51439E-03	-1.28866E-03
				key =	58987	204	-1.28866E-03	-1.31372E-03
				key =	62793	199	-1.31372E-03	-1.06923E-03
				key =	66534	195	-1.06923E-03	-1.35833E-03
				key =	70215	190	-1.35833E-03	-1.10406E-03
				key =	73838	186	-1.10406E-03	-1.12045E-03
				key =	77408	182	-1.12045E-03	-1.13636E-03
				key =	80928	178	-1.13636E-03	-8.63558E-04
				key =	84402	175	-8.63558E-04	-8.73871E-04
				key =	87835	172	-8.73871E-04	-5.88928E-04
				key =	91231	170	-5.88928E-04	-5.94530E-04
				key =	94595	168	-5.94530E-04	-5.99341E-04
				key =	97932	166	-5.99341E-04	-3.01568E-04
				key =	101248	165	-3.01568E-04	0.00000E+00
				key =	104549	165	0.00000E+00	-3.03767E-04
				key =	107841	164	-3.03767E-04	0.00000E+00
				key =	111131	164	0.00000E+00	3.03306E-04
				key =	114428	165	3.03306E-04	3.01296E-04
				key =	117747	166	3.01296E-04	0.00000E+00
				key =	121103	168	5.95948E-04	0.00000E+00
				key =	125000	171	7.69823E-04	0.00000E+00				
			}				
			temperatureSunMultCurve				
			{				
				key =	0	1.000	0.00000E+00	-5.89877E-05
				key =	5374	0.683	-5.89877E-05	-5.53527E-05
				key =	10577	0.395	-5.53527E-05	-4.91966E-05
				key =	15618	0.147	-4.91966E-05	-4.09165E-05
				key =	20506	-0.053	-4.09165E-05	-3.03605E-05
				key =	25249	-0.197	-3.03605E-05	-1.80122E-05
				key =	29857	-0.280	-1.80122E-05	-4.46329E-06
				key =	34338	-0.300	-4.46329E-06	2.29305E-06
				key =	38699	-0.290	2.29305E-06	4.94118E-06
				key =	42949	-0.269	4.94118E-06	7.23589E-06
				key =	47095	-0.239	7.23589E-06	8.88889E-06
				key =	51145	-0.203	8.88889E-06	1.03483E-05
				key =	55107	-0.162	1.03483E-05	1.15979E-05
				key =	58987	-0.117	1.15979E-05	1.18234E-05
				key =	62793	-0.072	1.18234E-05	1.25635E-05
				key =	66534	-0.025	1.25635E-05	1.22249E-05
				key =	70215	0.020	1.22249E-05	1.21446E-05
				key =	73838	0.064	1.21446E-05	1.14846E-05
				key =	77408	0.105	1.14846E-05	1.07955E-05
				key =	80928	0.143	1.07955E-05	9.49914E-06
				key =	84402	0.176	9.49914E-06	8.15613E-06
				key =	87835	0.204	8.15613E-06	6.77267E-06
				key =	91231	0.227	6.77267E-06	4.75624E-06
				key =	94595	0.243	4.75624E-06	2.39736E-06
				key =	97932	0.251	2.39736E-06	6.03136E-07
				key =	101248	0.253	6.03136E-07	0.00000E+00
				key =	104549	0.253	0.00000E+00	0.00000E+00
				key =	107841	0.253	0.00000E+00	0.00000E+00
				key =	111131	0.253	0.00000E+00	0.00000E+00
				key =	114428	0.253	0.00000E+00	0.00000E+00
				key =	117747	0.253	0.00000E+00	0.00000E+00
				key =	121103	0.253	0.00000E+00	0.00000E+00
				key =	125000	0.253	0.00000E+00	0.00000E+00				
			}				
			temperatureLatitudeBiasCurve				
			{				
				key =	0	12.08	0	0
				key =	38	0	-0.6125	-0.6125
				key =	90	-44.92	-0.9948	0
			}				
			temperatureLatitudeSunMultCurve				
			{				
				key =	0	63	0	0
				key =	38	53.67	-0.4728	-0.4728
				key =	90	19	-0.7679	0
			}				
			temperatureAxialSunBiasCurve				
			{				
				key =	0	-0.83	0	-0.0046
				key =	17.63	-0.87	0	0
				key =	107.63	0	0.0152	0.0152
				key =	197.63	0.87	0	0
				key =	287.63	0	-0.0152	-0.0152
				key =	360	-0.83	-0.0046	0
			}				
			temperatureAxialSunMultCurve				
			{				
				key =	0	0	0	0
				key =	38	0.5	0.02	0.02
				key =	90	1	0	0
			}				
			temperatureEccentricityBiasCurve				
			{				
				key =	0	0.05	0	-0.1
				key =	1	-0.05	-0.1	0
			}				
			pressureCurve				
			{				
				key =	0	2.54463E+01	0.00000E+00	-2.68149E-03
				key =	5374	1.43095E+01	-1.55910E-03	-1.55910E-03
				key =	10577	8.04681E+00	-9.05853E-04	-9.05853E-04
				key =	15618	4.52505E+00	-5.25892E-04	-5.25892E-04
				key =	20506	2.54463E+00	-3.05045E-04	-3.05045E-04
				key =	25249	1.43095E+00	-1.76779E-04	-1.76779E-04
				key =	29857	8.04681E-01	-1.02345E-04	-1.02345E-04
				key =	34338	4.52505E-01	-5.91904E-05	-5.91904E-05
				key =	38699	2.54463E-01	-3.41942E-05	-3.41942E-05
				key =	42949	1.43095E-01	-1.97309E-05	-1.97309E-05
				key =	47095	8.04681E-02	-1.13714E-05	-1.13714E-05
				key =	51145	4.52505E-02	-6.54524E-06	-6.54524E-06
				key =	55107	2.54463E-02	-3.76242E-06	-3.76242E-06
				key =	58987	1.43095E-02	-2.15984E-06	-2.15984E-06
				key =	62793	8.04681E-03	-1.23740E-06	-1.23740E-06
				key =	66534	4.52505E-03	-7.07749E-07	-7.07749E-07
				key =	70215	2.54463E-03	-4.04583E-07	-4.04583E-07
				key =	73838	1.43095E-03	-2.31124E-07	-2.31124E-07
				key =	77408	8.04681E-04	-1.31929E-07	-1.31929E-07
				key =	80928	4.52505E-04	-7.52385E-08	-7.52385E-08
				key =	84402	2.54463E-04	-4.28637E-08	-4.28637E-08
				key =	87835	1.43095E-04	-2.43912E-08	-2.43912E-08
				key =	91231	8.04681E-05	-1.38617E-08	-1.38617E-08
				key =	94595	4.52505E-05	-7.86646E-09	-7.86646E-09
				key =	97932	2.54463E-05	-4.45728E-09	-4.45728E-09
				key =	101248	1.43095E-05	-2.52135E-09	-2.52135E-09
				key =	104549	8.04681E-06	-1.42370E-09	-1.42370E-09
				key =	107841	4.52505E-06	-8.02371E-10	-8.02371E-10
				key =	111131	2.54463E-06	-4.51206E-10	-4.51206E-10
				key =	114428	1.43095E-06	-2.52704E-10	-2.52704E-10
				key =	117747	8.04681E-07	-1.40923E-10	-1.40923E-10
				key =	121103	4.52505E-07	-7.82726E-11	-7.82726E-11
				key =	125000	0.00000E+00	0.00000E+00	0.00000E+00
			}
			AtmosphereFromGround // The atmosphere effect that is seen on the horizon
			{
				DEBUG_alwaysUpdateAll = False // Whether all parameters should get recalculated and reapplied every frame.
				doScale = True // Whether the atmosphere mesh should be scaled automatically.
				innerRadius = 4153221 // The lower bound of the atmosphere effect.
				invWaveLength = 1.33239186,1.40056026,1.35464334,0.5
				outerRadius = 4259714 // The upper bound of the atmosphere effect.
				samples = 4
				transformScale = 1.02499998,1.02499998,1.02499998 // The scale of the atmosphere mesh in all three directions. Automatically set if doScale is enabled.
				waveLength = 0.930769205,0.919230759,0.926923215,0
				outerRadiusMult = 1.035 // A multiplier that automatically sets outerRadius based on the planets radius.
				innerRadiusMult = 0.975 // A multiplier that automatically sets innerRadius based on the planets radius.
			}							
		}
		PQS
		{
			fadeStart = 89375
			fadeEnd = 109375
			deactivateAltitude = 125000
            materialType = AtmosphericTriplanarZoomRotation
			Material
			{
				factor = 9
				factorBlendWidth = 0.1
				factorRotation = 180
				saturation = 0.97
				contrast = 1.15
				tintColor = 1,1,1,0
				specularColor = 0,0,0,1
				albedoBrightness = 1

				steepPower = 2.7
				steepTexStart = 50000
				steepTexEnd = 1000000
				steepTex = BUILTIN/laythSteep_diff
				steepTexScale = 1,1
				steepTexOffset = 0,0
				steepBumpMap = BUILTIN/laytheSteep_nrm
				steepBumpMapScale = 1,1
				steepBumpMapOffset = 0,0
				steepNearTiling = 15000
				steepTiling = 150

				lowTex = BUILTIN/laytheLow_diff
				lowTexScale = 1,1
				lowTexOffset = 0,0
				lowTiling = 20000

				midTex = BUILTIN/laytheSand_diffuse
				midTexScale = 1,1
				midTexOffset = 0,0
				midTiling = 40000
				midBumpMap = BUILTIN/laytheSand_nrm
				midBumpMapScale = 1,1
				midBumpMapOffset = 0,0
				midBumpTiling = 40000

				highTex = BUILTIN/laytheSnow_diff
				highTexScale = 1,1
				highTexOffset = 0,0
				highTiling = 1000

				lowStart = 0
				lowEnd = 0.1
				highStart = 0.6
				highEnd = 1

				globalDensity = 0
				planetOpacity = 1
				oceanFogDistance = 1000
			}
			FallbackMaterial
			{
				saturation = 1
				contrast = 1.55
				tintColor = 1,1,1,0
				texTiling = 1000
				texPower = 0.5
				multiPower = 0.3
				groundTexStart = 20000
				groundTexEnd = 60000
				multiFactor = 0.5
				mainTex = BUILTIN/SandyGround
				mainTexScale = 1,1
				mainTexOffset = 0,0
				planetOpacity = 1
			}
			Mods
			{
				VertexColorMap
				{
					map = AfterSolarSystemExpand/Textures/PluginData/Trappist-1e_Color.dds
					order = 9999993
					enabled = true
				}                                                     
				VertexHeightMap
				{
					map = AfterSolarSystemExpand/Textures/PluginData/Trappist-1e_Height.dds
					offset = -3714.96
					deformity = 17083.07
					scaleDeformityByRadius = False
					order = 10
					enabled = True
					name = _HeightNoise03
				}
			}
		}
	}
}