@Kopernicus:FOR[AfterSolarSystemExpand]
{
	useOnDemand = True
	Body
	{
        name = Ruanxiaobb
		finalizeOrbit = False
		randomMainMenuBody = False
		identifier = Ruanxiao/Ruanxiaobb
		cacheFile = AfterSolarSystemExpand/System/06_Ruanxiao/Cache/Ruanxiaobb.bin
		Template
		{
			name = Duna
			removePQSMods = PQSLandControl, PQSMod_VoronoiCraters, PQSMod_FlattenArea, PQSMod_VertexHeightNoiseVertHeightCurve2, PQSMod_MapDecal, PQSMod_AltitudeAlpha, PQSMod_VertexHeightMap
		}
	    Orbit
		{
			referenceBody =            Ruanxiaob
			semiMajorAxis =            4.50213E+08
            eccentricity =             1.75642E-03
            inclination =              2.54231E+01
			meanAnomalyAtEpochD =      7.26453E+01
			longitudeOfAscendingNode = 1.93522E+02
			argumentOfPeriapsis =      7.49653E+01
			color =                    RGB(145,158,187)
            iconTexture = AfterSolarSystemExpand/Textures/PluginData/Moon_icon.dds
		}
		Properties
		{
			displayName = #ASSEX_Ruanxiaobb_name//Ruanxiaobb
			description = #ASSEX_Ruanxiaobb_desc//Ruanxiao bb is an enormous icy satellite, so massive that it blurs the line between planet and satellite. Our observations suggest it possesses an extremely thin atmosphere containing oxygen, but unfortunately, the atmosphere is too thin for us to breathe or collect directly. This isn't the point; the real point is that perhaps beneath the crust of this giant body lies an ocean hundreds of kilometers deep. Submarine volcanoes, formed by geothermal heat generated by the enormous tidal force, might provide organic matter to the ocean, giving rise to life.
			radius = 2622910
			//mass = 1.64964548552583E+23
			gravParameter = 11009865942038.2
			solarRotationPeriod = False
			tidallyLocked = True
			albedo = 0.21452
			initialRotation = -150
			tidallyLocked = False   
			timewarpAltitudeLimits = 130000 130000 130000 130000 130000 130000 130000 130000
			biomeMap = AfterSolarSystemExpand/Textures/PluginData/Ruanxiaobb_Biomes.dds
            Biomes                                                                
			{
				Biome
				{
					name = YSK  // 陨石坑
					displayName = #ASSEX_Ruanxiaobb_Biome1
					color = RGBA(255,255,255,255)
					value = 1.0
				}
				Biome
				{
					name = Cilff 
					displayName = #ASSEX_Ruanxiaobb_Biome2
					color = RGBA(66,58,116,255)
					value = 1.0
				}
				Biome
				{
					name = hills
					displayName = #ASSEX_Ruanxiaobb_Biome3
					color = RGBA(100,100,100,255)
					value = 1.0
				}
				Biome
				{
					name = snowmountain
					displayName = #ASSEX_Ruanxiaobb_Biome4
					color = RGBA(255,100,100,255)
					value = 2.0
				}
				Biome
				{
					name = basin
					displayName = #ASSEX_Ruanxiaobb_Biome5
					color = RGBA(255,100,255,255)
					value = 2.0
				}
			}
			ScienceValues
			{
				flyingLowDataValue =  48.8
				flyingHighDataValue = 48.2
				inSpaceLowDataValue = 47.9
				inSpaceHighDataValue = 47.6
				flyingAltitudeThreshold = 25000
				spaceAltitudeThreshold =  2412000
			}
		}
		ScaledVersion
		{
			type = Atmospheric
			OnDemand
			{
				texture = AfterSolarSystemExpand/Textures/PluginData/Ruanxiaobb_Color.dds	
				normals = AfterSolarSystemExpand/Textures/PluginData/Ruanxiaobb_NRM.dds
			}
			Material
			{
				color = 1,1,1,1
				shininess = 0.85
				specColor = 0.2,0.2,0.2,1

				rimPower = 1.2
				rimBlend = 0.5
				rimColorRamp = AfterSolarSystem-Textures/PluginData/MarsRimColorRamp.dds
			}
		}
		Atmosphere				
		{				
			enabled =	True			
			oxygen =	False	// 氧气太少			
			altitude =	135000			
			adiabaticIndex =	1.39			
			atmosphereMolarMass =	0.02735	

					// N2 94.30%
					// CH4 4.20%
					// NH3 1.30%
					// O2 0.020%

			temperatureSeaLevel = 130.95		
			staticPressureASL =	1.01882E-01	
			pressureCurve				
			{				
				key =	0		1.01882E-01	0.00000E+00	-7.91648E-06
				key =	7164	5.72926E-02	-4.81921E-06	-4.81921E-06
				key =	13887	3.22180E-02	-2.90705E-06	-2.90705E-06
				key =	20254	1.81175E-02	-1.73599E-06	-1.73599E-06
				key =	26341	1.01882E-02	-1.02567E-06	-1.02567E-06
				key =	32302	5.72926E-03	-5.83692E-07	-5.83692E-07
				key =	38250	3.22180E-03	-3.31931E-07	-3.31931E-07
				key =	44190	1.81175E-03	-1.88671E-07	-1.88671E-07
				key =	50123	1.01882E-03	-1.07183E-07	-1.07183E-07
				key =	56053	5.72926E-04	-6.08520E-08	-6.08520E-08
				key =	61983	3.22180E-04	-3.45242E-08	-3.45242E-08
				key =	67919	1.81175E-04	-1.95722E-08	-1.95722E-08
				key =	73863	1.01882E-04	-1.10863E-08	-1.10863E-08
				key =	79822	5.72926E-05	-6.27390E-09	-6.27390E-09
				key =	85800	3.22180E-05	-3.54696E-09	-3.54696E-09
				key =	91805	1.81175E-05	-2.00315E-09	-2.00315E-09
				key =	97843	1.01882E-05	-1.12999E-09	-1.12999E-09
				key =	103921	5.72926E-06	-6.36672E-10	-6.36672E-10
				key =	110048	3.22180E-06	-3.58266E-10	-3.58266E-10
				key =	116235	1.81175E-06	-2.01109E-10	-2.01109E-10
				key =	122502	1.01882E-06	-1.12493E-10	-1.12493E-10
				key =	128872	5.72926E-07	-6.27156E-11	-6.27156E-11
				key =	135000	0.00000E+00	0.00000E+00	0.00000E+00				
			}					
			temperatureCurve				
			{				
				key =	0	109	0.00000E+00	-1.39587E-04
				key =	7164	108	-1.39587E-04	0.00000E+00
				key =	13887	108	0.00000E+00	-1.57060E-04
				key =	20254	107	-1.57060E-04	-1.64285E-04
				key =	26341	106	-1.64285E-04	0.00000E+00
				key =	32302	106	0.00000E+00	-1.68124E-04
				key =	38250	105	-1.68124E-04	-3.36700E-04
				key =	44190	103	-3.36700E-04	-1.68549E-04
				key =	50123	102	-1.68549E-04	-3.37268E-04
				key =	56053	100	-3.37268E-04	-3.37268E-04
				key =	61983	98	-3.37268E-04	-5.05391E-04
				key =	67919	95	-5.05391E-04	-3.36474E-04
				key =	73863	93	-3.36474E-04	-1.67813E-04
				key =	79822	92	-1.67813E-04	-3.34560E-04
				key =	85800	90	-3.34560E-04	-1.66528E-04
				key =	91805	89	-1.66528E-04	-1.65618E-04
				key =	97843	88	-1.65618E-04	0.00000E+00
				key =	103921	88	0.00000E+00	0.00000E+00
				key =	110048	88	0.00000E+00	0.00000E+00
				key =	116235	88	0.00000E+00	1.59566E-04
				key =	122502	89	1.59566E-04	1.56986E-04
				key =	128872	90	1.56986E-04	1.63185E-04
				key =	135000	91	1.63185E-04	0.00000E+00				
			}				
			temperatureSunMultCurve				
			{				
				key =	0	1.000	0.00000E+00	-5.84869E-05
				key =	7164	0.581	-5.84869E-05	-5.25063E-05
				key =	13887	0.228	-5.25063E-05	-4.27203E-05
				key =	20254	-0.044	-4.27203E-05	-2.92426E-05
				key =	26341	-0.222	-2.92426E-05	-1.27495E-05
				key =	32302	-0.298	-1.27495E-05	8.40619E-07
				key =	38250	-0.293	8.40619E-07	4.20875E-06
				key =	44190	-0.268	4.20875E-06	6.57340E-06
				key =	50123	-0.229	6.57340E-06	8.26307E-06
				key =	56053	-0.180	8.26307E-06	9.44351E-06
				key =	61983	-0.124	9.44351E-06	9.93935E-06
				key =	67919	-0.065	9.93935E-06	9.92598E-06
				key =	73863	-0.006	9.92598E-06	9.06192E-06
				key =	79822	0.048	9.06192E-06	7.52760E-06
				key =	85800	0.093	7.52760E-06	5.66195E-06
				key =	91805	0.127	5.66195E-06	2.81550E-06
				key =	97843	0.144	2.81550E-06	1.64528E-07
				key =	103921	0.145	1.64528E-07	0.00000E+00
				key =	110048	0.145	0.00000E+00	0.00000E+00
				key =	116235	0.145	0.00000E+00	0.00000E+00
				key =	122502	0.145	0.00000E+00	0.00000E+00
				key =	128872	0.145	0.00000E+00	0.00000E+00
				key =	135000	0.145	0.00000E+00	0.00000E+00			
			}				
			temperatureLatitudeBiasCurve				
			{				
				key =	0	9.75	0	0
				key =	38	0	-0.4943	-0.4943
				key =	90	-36.25	-0.8029	0
			}				
			temperatureLatitudeSunMultCurve				
			{				
				key =	0	52	0	0
				key =	38	44.16	-0.3976	-0.3976
				key =	90	15	-0.6458	0
			}				
			temperatureAxialSunBiasCurve				
			{				
				key =	0	-1.41	0	0.7804
				key =	1.810972822	0	0.7808	0.7808
				key =	91.81097282	44.73	0	0
				key =	181.8109728	0	-0.7808	-0.7808
				key =	271.8109728	-44.73	0	0
				key =	360	-1.41	0.7804	0
			}				
			temperatureAxialSunMultCurve				
			{				
				key =	0	0	0	0
				key =	38	0.5	0.02	0.02
				key =	90	1	0	0
			}				
			temperatureEccentricityBiasCurve				
			{				
				key =	0	3.75	0	-7.5
				key =	1	-3.75	-7.5	0
			}								
			AtmosphereFromGround // The atmosphere effect that is seen on the horizon
			{
				DEBUG_alwaysUpdateAll = False // Whether all parameters should get recalculated and reapplied every frame.
				doScale = True // Whether the atmosphere mesh should be scaled automatically.
				innerRadius = 4987018 // The lower bound of the atmosphere effect.
				invWaveLength = 4.55211067,3.9867754,8.51245022,0.5
				outerRadius = 5114890 // The upper bound of the atmosphere effect.
				samples = 4
				transformScale = 1.02499998,1.02499998,1.02499998 // The scale of the atmosphere mesh in all three directions. Automatically set if doScale is enabled.
				waveLength = 0.684615612,0.707692444,0.585445344,0
				outerRadiusMult = 1.025 // A multiplier that automatically sets outerRadius based on the planets radius.
				innerRadiusMult = 0.975 // A multiplier that automatically sets innerRadius based on the planets radius.
			}			
		}	
		PQS
		{
			minLevel = 2
			maxLevel = 10
			minDetailDistance = 8
			deactivateAltitude = 135000
			fadeStart = 50000
			fadeEnd = 133000
			Material
			{
				factor = 11.98
				factorBlendWidth = 0.1
				factorRotation = 30
				saturation = 1.25
				contrast = 1.25
				tintColor = 1,1,1,0
				specularColor = 0,0,0,1
				albedoBrightness = 1

				steepPower = 1.85
				steepTexStart = 100000
				steepTexEnd = 200000
				steepTex = AfterSolarSystem/terrain/PluginData/Stone01.dds
				steepTexScale = 1,1
				steepTexOffset = 0,0
				steepBumpMap = AfterSolarSystem/terrain/PluginData/Stone01_NRM.dds
				steepBumpMapScale = 1,1
				steepBumpMapOffset = 0,0
				steepNearTiling = 6000
				steepTiling = 4000

				lowTex = AfterSolarSystem/terrain/PluginData/Stone01.dds
				lowTexScale = 1,1
				lowTexOffset = 0,0
				lowTiling = 150000

				midTex = AfterSolarSystem/terrain/PluginData/Stone01.dds
				midTexScale = 1,1
				midTexOffset = 0,0
				midTiling = 180000
				midBumpMap = AfterSolarSystem/terrain/PluginData/Stone01_NRM.dds
				midBumpMapScale = 1,1
				midBumpMapOffset = 0,0
				midBumpTiling = 180000

				highTex = AfterSolarSystem/terrain/PluginData/Stone01.dds
				highTexScale = 1,1
				highTexOffset = 0,0
				highTiling = 150000

				lowStart = 0.15
				lowEnd = 0.4
				highStart = 0.7
				highEnd = 1

				globalDensity = 1

				planetOpacity = 1
				oceanFogDistance = 1000
			}
			FallbackMaterial
			{
				saturation = 1
				contrast = 1.55
				tintColor = 1,1,1,0
				texTiling = 1000
				texPower = 0.3
				multiPower = 0.3
				groundTexStart = 20000
				groundTexEnd = 60000
				multiFactor = 0.5
				mainTex = BUILTIN/SandyGround
				mainTexScale = 1,1
				mainTexOffset = 0,0
				planetOpacity = 0
			}
			Mods
			{
				VertexHeightMap
				{
					map = AfterSolarSystemExpand/Textures/PluginData/Ruanxiaobb_Height.dds
					offset = 0
					deformity = 16000
					scaleDeformityByRadius = false
					order = 993
					enabled = true
				}
				VertexColorMapBlend
				{
					map = AfterSolarSystemExpand/Textures/PluginData/Ruanxiaobb_Color.dds	
					order = 10
					enabled = True
					blend = 0.9
					name = _Color
				}
				VertexSimplexHeightAbsolute
				{
					deformity = 1550
					frequency = 320
					octaves = 6
					persistence = 0.22
					seed = 23893455
					order = 12
					enabled = True
					name = _Height
				}
				VoronoiCraters
				{
					colorOpacity = 0.7
					DebugColorMapping = False
					deformation = 250
					jitter = 0.1
					jitterHeight = 3
					rFactor = 1
					rOffset = 1
					simplexFrequency = 120
					simplexOctaves = 3
					simplexPersistence = 0.5
					simplexSeed = 123123
					voronoiDisplacement = 0
					voronoiFrequency = 150
					voronoiSeed = 332
					order = 101
					enabled = True
					name = VoronoiCraters
					CraterCurve
					{
						key = -0.9982381 -0.7411783 -0.06500059 -0.06500059
						key = -0.9332262 -0.7678316 -0.2176399 -0.2176399
						key = -0.8990405 -0.7433339 -2.560626 -2.560626
						key = -0.7445966 -0.8581167 0.4436148 0.4436148
						key = -0.4499771 -0.1392395 5.289535 5.289535
						key = -0.4015177 0.2551735 9.069458 -2.149609
						key = -0.2297457 0.002857953 -0.4453675 -0.4453675
						key = 0.2724952 0.00423781 -0.01884932 -0.01884932
						key = 0.9998434 -0.004090764 0.01397126 0.01397126
					}
					JitterCurve
					{
						key = -1.000701 0.4278412 0.1577609 0.1577609
						key = -0.7884969 0.09487452 -0.7739663 -0.7739663
						key = -0.6091803 0.072019 0.123537 0.123537
						key = -0.3930514 0.3903495 3.300831 3.300831
						key = -0.3584836 0.8643304 0.07139917 0.07139917
						key = -0.2988068 0.002564805 -0.01814346 -0.01814346
						key = 0.9970253 0.003401639 0 0
					}
				}
			}
		}			
	}
}			

